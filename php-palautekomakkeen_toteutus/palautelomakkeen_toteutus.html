<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Palautelomakkeen toteutus</title>
</head>
<body>
    <h1>Palautelomakkeen toteutus</h1>
    <form action="tallennaTiedot.php" method="post">
        <p>*:Pakollinen!</p>
        <label for="aika"></label>
        <p>*Aika ja päivämäärä: <input type="datetime-local" name="aika"></p>
        <label for="nimi"></label>
        <p>*Nimi: <input type="text" name="nimi" size="40"></p>
        <label for="sahkoposti"></label>
        <p>*Sähköposti: <input type="text" name="sahkoposti" size="40" onblur="emailTesti(this.value)"><span id="email.virhe"></span></p>
        <label for="palaute"></label>
        <p>*Palaute: </p> <textarea name="palaute" rows="10" cols="30"></textarea><br>
        <input type="submit" name="laheta" value="Lähetä">
    </form>
<script>

function validateEmail(email) {

    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email);
}

function emailTesti(email) {

    if (validateEmail(email)) {
        document.getElementById('email.virhe').innerHTML = "OK";
    } else {
        document.getElementById('email.virhe').innerHTML = "Email epäkelpoinen";
    }
}

</script>
</body>
</html>